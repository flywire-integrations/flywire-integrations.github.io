<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Page Title</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://payment.flywire.com/assets/js/flywire.js"></script>
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
    <div class="header">
      <h1>GT School</h1>
      <p>We offer MBA and EMBA courses</p>
    </div>
    <div class="navbar">
      <a href="index.html" class="active">Home</a>
      <a href="application.html">Application</a>
      <a href="application_2.html">Application 2.0</a>
      <a href="invoices.html">Invoices</a>
    </div>
    <div class="row">
      <div class="main">
        <div id="flywire-payex"></div>
      </div>
    </div>
    <div class="footer">
      <h2>Bugis Junctions, Victoria Street, Singapore</h2>
    </div>
    <script type="text/javascript">
    var urlParams = new URLSearchParams(window.location.search);
    //console.log('student_date_of_birth: ' + urlParams.get('student_date_of_birth'));
    var dob_raw = urlParams.get('student_date_of_birth');
    var dob = dob_raw.replace("January", "01");
    dob = dob.replace("February", "02");
    dob = dob.replace("March", "03");
    dob = dob.replace("April", "04");
    dob = dob.replace("May", "05");
    dob = dob.replace("June", "06");
    dob = dob.replace("July", "07");
    dob = dob.replace("August", "08");
    dob = dob.replace("September", "09");
    dob = dob.replace("October", "10");
    dob = dob.replace("November", "11");
    dob = dob.replace("December", "12");
    //console.log('provider: ' + urlParams.get('provider'));
    //console.log('payment_destination: ' + urlParams.get('payment_destination'));
    //console.log('amount: ' + urlParams.get('amount'));
    //console.log('sender_email: ' + urlParams.get('sender_email'));
    //console.log('sender_first_name: ' + urlParams.get('sender_first_name'));
    //console.log('sender_middle_name: ' + urlParams.get('sender_middle_name'));
    //console.log('sender_last_name: ' + urlParams.get('sender_last_name'));
    //console.log('sender_address1: ' + urlParams.get('sender_address1'));
    //console.log('sender_address2: ' + urlParams.get('sender_address2'));
    //console.log('sender_state: ' + urlParams.get('sender_state'));
    //console.log('sender_city: ' + urlParams.get('sender_city'));
    //console.log('sender_zip: ' + urlParams.get('sender_zip'));
    //console.log('sender_phone: ' + urlParams.get('sender_phone'));
    //console.log('student_id: ' + urlParams.get('student_id'));
    //console.log('student_first_name: ' + urlParams.get('student_first_name'));
    //console.log('student_last_name: ' + urlParams.get('student_last_name'));
    //console.log('student_date_of_birth: ' + dob);
    //console.log('student_email: ' + urlParams.get('student_email'));
    //console.log('callback_url: ' + urlParams.get('callback_url'));
    //console.log('callback_id: ' + urlParams.get('callback_id'));
    
    // Render the payment form into #flywire-payex
    window.flywire.Payment.render({
    // Set your environment
    // demo, production
    env: "demo",
    // Set your preferred locale
    // en, es-ES, zh-CN, ko, fr-FR, ja, pt-PT, ar, id
    locale: "en",
    // Set your institution unique Code
    destination: urlParams.get('provider'),
    theme: {
    brandColor: "#3498db", // Any CSS color
    chat: true, // true, false
    footer: true, // true, false
    skipCompletedSteps: true // true, false
    },
    provider: "embed",
    amount: urlParams.get('amount'),
    sender_country: 'SG',
    sender_first_name: urlParams.get('sender_first_name'),
    sender_middle_name: urlParams.get('sender_middle_name'),
    sender_last_name: urlParams.get('sender_last_name'),
    sender_address1: urlParams.get('sender_address1'),
    sender_address2: urlParams.get('sender_address2'),
    sender_state: urlParams.get('sender_state'),
    sender_zip_code: urlParams.get('sender_zip'),
    sender_phone: urlParams.get('sender_phone'),
    sender_city: urlParams.get('sender_city'),
    sender_email: urlParams.get('student_email'),
    student_email: urlParams.get('student_email'),
    student_id: urlParams.get('student_id'),
    student_first_name: urlParams.get('sender_first_name'),
    student_last_name: urlParams.get('sender_last_name'),
    read_only: "student_id, student_first_name, student_last_name,student_email, amount"
    }, "#flywire-payex");
    </script>
  </body>
</html>